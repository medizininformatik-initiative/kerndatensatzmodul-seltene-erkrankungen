{
  "resourceType": "StructureDefinition",
  "id": "mii-pr-seltene-therapieplan",
  "url": "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/StructureDefinition/mii-pr-seltene-therapieplan",
  "name": "MII_PR_Seltene_Therapieplan",
  "title": "MII PR SE Therapieplan",
  "status": "draft",
  "description": "Therapieplan",
  "fhirVersion": "4.0.1",
  "kind": "resource",
  "abstract": false,
  "type": "CarePlan",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/CarePlan",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "CarePlan.status",
        "path": "CarePlan.status",
        "definition": "Status der Umsetzung des beschlossenen Therapieplans",
        "comment": "\n    active: Empfehlung bzw. Therapieoption in Umsetzung (Regelfall), \n    revoked: Fall ist abgeschlossen, \n    completed: Alle Empfehlungen bzw. Therapieoptionen ausgeschöpft oder Patient verstorben"
      },
      {
        "id": "CarePlan.description",
        "path": "CarePlan.description",
        "short": "Protokollauszug",
        "definition": "Protokollauszug aus dem Beschluss",
        "mustSupport": true
      },
      {
        "id": "CarePlan.created",
        "path": "CarePlan.created",
        "short": "Erstellungsdatum",
        "definition": "Erstellungsdatum des Therapieplans",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "CarePlan.supportingInfo",
        "path": "CarePlan.supportingInfo",
        "slicing": {
          "discriminator": [
            {
              "type": "type",
              "path": "$this"
            }
          ],
          "rules": "open",
          "description": "Slice für weitere Informationen",
          "ordered": false
        }
      },
      {
        "id": "CarePlan.activity",
        "path": "CarePlan.activity",
        "slicing": {
          "discriminator": [
            {
              "type": "profile",
              "path": "reference.resolve()"
            }
          ],
          "rules": "open",
          "description": "Slice für Empfehlung zum weiteren Vorgehen auf Basis des referenzierten Ressourcentyps",
          "ordered": false
        },
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:MedikamentoesTherapie",
        "path": "CarePlan.activity",
        "sliceName": "MedikamentoesTherapie",
        "short": "Medikamentöse Therapieempfehlung",
        "definition": "Therapieempfehlung für eine medikamentöse Therapie (Systemtherapie, gezielte Therapie, Präventivmedikation, Gentherapie, Kombinationstherapie)",
        "comment": "Referenziert MedicationRequest-basierte Profile für alle medikamentösen Therapien",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:MedikamentoesTherapie.reference",
        "path": "CarePlan.activity.reference",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/StructureDefinition/mii-pr-seltene-therapieempfehlung",
              "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/StructureDefinition/mii-pr-seltene-therapieempfehlung-kombination",
              "http://hl7.org/fhir/StructureDefinition/MedicationRequest",
              "http://hl7.org/fhir/StructureDefinition/RequestGroup"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:MedikamentoesTherapie.detail",
        "path": "CarePlan.activity.detail",
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:MedikamentoesTherapie.detail.statusReason",
        "path": "CarePlan.activity.detail.statusReason",
        "binding": {
          "strength": "required",
          "valueSet": "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/ValueSet/mii-vs-seltene-empfehlung-status-begruendung"
        }
      },
      {
        "id": "CarePlan.activity:NichtMedikamentoesTherapie",
        "path": "CarePlan.activity",
        "sliceName": "NichtMedikamentoesTherapie",
        "short": "Nicht-medikamentöse Therapieempfehlung",
        "definition": "Therapieempfehlung für nicht-medikamentöse Interventionen (Ernährungstherapie, Prophylaxe, Früherkennung, andere)",
        "comment": "Referenziert ServiceRequest-basierte Profile für alle nicht-medikamentösen Therapien",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:NichtMedikamentoesTherapie.reference",
        "path": "CarePlan.activity.reference",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/StructureDefinition/mii-pr-seltene-therapieempfehlung-nicht-medikamentoes",
              "http://hl7.org/fhir/StructureDefinition/ServiceRequest"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:NichtMedikamentoesTherapie.detail",
        "path": "CarePlan.activity.detail",
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:NichtMedikamentoesTherapie.detail.statusReason",
        "path": "CarePlan.activity.detail.statusReason",
        "binding": {
          "strength": "required",
          "valueSet": "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/ValueSet/mii-vs-seltene-empfehlung-status-begruendung"
        }
      },
      {
        "id": "CarePlan.activity:HumangenetischeBeratung",
        "path": "CarePlan.activity",
        "sliceName": "HumangenetischeBeratung",
        "short": "Empfehlung Human-genetische Beratung",
        "definition": "Auftrag zur (erneuten) Human-genetischen Beratung",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:HumangenetischeBeratung.reference",
        "path": "CarePlan.activity.reference",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/ServiceRequest"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:Studieneinschlussempfehlung",
        "path": "CarePlan.activity",
        "sliceName": "Studieneinschlussempfehlung",
        "short": "Studieneinschlussempfehlung",
        "definition": "Anfrage zum Studieneinschluss",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "CarePlan.activity:Studieneinschlussempfehlung.reference",
        "path": "CarePlan.activity.reference",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/StructureDefinition/mii-pr-seltene-studieneinschluss-anfrage"
            ]
          }
        ],
        "mustSupport": true
      }
    ]
  }
}
