{
  "resourceType": "StructureDefinition",
  "id": "mii-pr-seltene-symptom-condition",
  "url": "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/StructureDefinition/mii-pr-seltene-symptom-condition",
  "version": "2026.0.0-ballot",
  "name": "MII_PR_Seltene_Symptom_Condition",
  "title": "MII Profile SE Symptom Condition",
  "status": "draft",
  "publisher": "Medizininformatik Initiative",
  "contact": [
    {
      "telecom": [
        {
          "system": "url",
          "value": "https://www.medizininformatik-initiative.de"
        }
      ]
    }
  ],
  "description": "Profile for symptom-based conditions in the context of rare diseases. This profile captures symptomatic conditions with temporal characteristics, complementing the HPO Assessment Observation profile.",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "SE-LogicalModel",
      "name": "Mapping FHIR zu Seltene Erkrankungen Logical Model",
      "uri": "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/StructureDefinition/LogicalModel/Seltene"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Condition",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Condition",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Condition",
        "path": "Condition",
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung",
            "comment": "Phänotypisierung als Condition"
          }
        ]
      },
      {
        "id": "Condition.id",
        "path": "Condition.id",
        "mustSupport": true
      },
      {
        "id": "Condition.meta",
        "path": "Condition.meta",
        "mustSupport": true
      },
      {
        "id": "Condition.identifier",
        "path": "Condition.identifier",
        "mustSupport": true
      },
      {
        "id": "Condition.clinicalStatus",
        "path": "Condition.clinicalStatus",
        "short": "Klinischer Status der Symptom-Erkrankung",
        "mustSupport": true,
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/ValueSet/condition-clinical"
        }
      },
      {
        "id": "Condition.verificationStatus",
        "path": "Condition.verificationStatus",
        "short": "Verifikationsstatus der Symptom-Erkrankung",
        "mustSupport": true,
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/ValueSet/condition-ver-status"
        }
      },
      {
        "id": "Condition.category",
        "path": "Condition.category",
        "short": "Kategorie der Erkrankung - muss Symptom-Kategorie enthalten",
        "definition": "Kategoriecodes, die die Erkrankung klassifizieren, mit besonderem Fokus auf symptombezogene Kategorien",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.severity",
        "path": "Condition.severity",
        "short": "Schweregrad der Symptom-Erkrankung",
        "definition": "Schweregradbewertung der Symptom-Erkrankung unter Verwendung von HPO-Schweregrad-Werten",
        "mustSupport": true,
        "binding": {
          "strength": "extensible",
          "valueSet": "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/ValueSet/mii-vs-seltene-hpo-severity"
        },
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung.VerlaufSymptom",
            "comment": "Schweregrad/Verlauf"
          }
        ]
      },
      {
        "id": "Condition.code",
        "path": "Condition.code",
        "short": "HPO-basierter Symptom-Erkrankungs-Code",
        "definition": "Code zur Identifikation der Symptom-Erkrankung, vorzugsweise unter Verwendung von Human Phenotype Ontology (HPO) Codes",
        "min": 1,
        "mustSupport": true,
        "binding": {
          "strength": "extensible",
          "valueSet": "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/ValueSet/mii-vs-seltene-hpo-phenotypic-observation-codes"
        }
      },
      {
        "id": "Condition.code.coding",
        "path": "Condition.code.coding",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "$this"
            }
          ],
          "rules": "open",
          "description": "Slicing für verschiedene Codesysteme zur Symptom-Codierung",
          "ordered": false
        },
        "mustSupport": true
      },
      {
        "id": "Condition.code.coding:hpoCoding",
        "path": "Condition.code.coding",
        "sliceName": "hpoCoding",
        "short": "HPO Code für das Symptom",
        "definition": "Human Phenotype Ontology Code zur Beschreibung des phänotypischen Symptoms",
        "min": 0,
        "max": "1",
        "patternCoding": {
          "system": "http://purl.obolibrary.org/obo/hp.owl"
        },
        "mustSupport": true,
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung.HPOTerm",
            "comment": "HPO-Term des Symptoms"
          }
        ]
      },
      {
        "id": "Condition.code.coding:hpoCoding.system",
        "path": "Condition.code.coding.system",
        "min": 1
      },
      {
        "id": "Condition.code.coding:hpoCoding.code",
        "path": "Condition.code.coding.code",
        "min": 1
      },
      {
        "id": "Condition.code.coding:hpoCoding.display",
        "path": "Condition.code.coding.display",
        "mustSupport": true
      },
      {
        "id": "Condition.code.coding:snomedCoding",
        "path": "Condition.code.coding",
        "sliceName": "snomedCoding",
        "short": "SNOMED CT Code für das Symptom",
        "definition": "SNOMED CT Code zur klinischen Beschreibung des Symptoms",
        "min": 0,
        "max": "1",
        "patternCoding": {
          "system": "http://snomed.info/sct"
        },
        "mustSupport": true,
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung",
            "comment": "SNOMED CT Symptom"
          }
        ]
      },
      {
        "id": "Condition.code.coding:snomedCoding.system",
        "path": "Condition.code.coding.system",
        "min": 1
      },
      {
        "id": "Condition.code.coding:snomedCoding.code",
        "path": "Condition.code.coding.code",
        "min": 1
      },
      {
        "id": "Condition.code.coding:snomedCoding.display",
        "path": "Condition.code.coding.display",
        "mustSupport": true
      },
      {
        "id": "Condition.code.coding:icd10GMCoding",
        "path": "Condition.code.coding",
        "sliceName": "icd10GMCoding",
        "short": "ICD-10-GM Code für das Symptom",
        "definition": "ICD-10 German Modification Code für die Symptom-Klassifikation",
        "min": 0,
        "max": "1",
        "patternCoding": {
          "system": "http://fhir.de/CodeSystem/bfarm/icd-10-gm"
        },
        "mustSupport": true,
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung",
            "comment": "ICD-10-GM Symptom"
          }
        ]
      },
      {
        "id": "Condition.code.coding:icd10GMCoding.system",
        "path": "Condition.code.coding.system",
        "min": 1
      },
      {
        "id": "Condition.code.coding:icd10GMCoding.code",
        "path": "Condition.code.coding.code",
        "min": 1
      },
      {
        "id": "Condition.code.coding:icd10GMCoding.display",
        "path": "Condition.code.coding.display",
        "mustSupport": true
      },
      {
        "id": "Condition.code.coding:mondoCoding",
        "path": "Condition.code.coding",
        "sliceName": "mondoCoding",
        "short": "MONDO Code für das Symptom",
        "definition": "Monarch Disease Ontology (MONDO) Code für internationale Interoperabilität. MONDO harmonisiert SNOMED, ORDO, OMIM und ICD automatisch und ermöglicht die Integration mit internationalen Projekten wie Phenopackets und GA4GH.",
        "min": 0,
        "max": "1",
        "patternCoding": {
          "system": "http://purl.obolibrary.org/obo/mondo.owl"
        },
        "mustSupport": true,
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung",
            "comment": "MONDO Symptom (internationale Interoperabilität)"
          }
        ]
      },
      {
        "id": "Condition.code.coding:mondoCoding.system",
        "path": "Condition.code.coding.system",
        "min": 1
      },
      {
        "id": "Condition.code.coding:mondoCoding.code",
        "path": "Condition.code.coding.code",
        "min": 1
      },
      {
        "id": "Condition.code.coding:mondoCoding.display",
        "path": "Condition.code.coding.display",
        "mustSupport": true
      },
      {
        "id": "Condition.bodySite",
        "path": "Condition.bodySite",
        "short": "Anatomische Lokalisation des Symptoms",
        "definition": "Die anatomische Lokalisation, wo sich das Symptom manifestiert",
        "mustSupport": true
      },
      {
        "id": "Condition.subject",
        "path": "Condition.subject",
        "short": "Patient mit der Symptom-Erkrankung",
        "definition": "Referenz auf den Patienten, der diese Symptom-Erkrankung hat",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Patient"
            ]
          }
        ],
        "mustSupport": true,
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "Patient",
            "comment": "Patient/Indexpatient"
          }
        ]
      },
      {
        "id": "Condition.encounter",
        "path": "Condition.encounter",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Untersuchungsdatum",
            "comment": "Untersuchungskontakt"
          }
        ]
      },
      {
        "id": "Condition.onset[x]",
        "path": "Condition.onset[x]",
        "slicing": {
          "discriminator": [
            {
              "type": "type",
              "path": "$this"
            }
          ],
          "ordered": false,
          "rules": "open"
        },
        "short": "Beginn der Symptom-Erkrankung",
        "definition": "Geschätztes oder tatsächliches Datum, Alter, Zeitraum oder zeitliche Beschreibung, wann die Symptom-Erkrankung begann",
        "mustSupport": true
      },
      {
        "id": "Condition.onset[x]:onsetDateTime",
        "path": "Condition.onset[x]",
        "sliceName": "onsetDateTime",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "dateTime"
          }
        ],
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung.ZeitraumSymptom.ZeitraumSymptom",
            "comment": "Startdatum des Symptoms"
          }
        ]
      },
      {
        "id": "Condition.onset[x]:onsetPeriod",
        "path": "Condition.onset[x]",
        "sliceName": "onsetPeriod",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Period"
          }
        ]
      },
      {
        "id": "Condition.onset[x]:onsetPeriod.start",
        "path": "Condition.onset[x].start",
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung.ZeitraumSymptom.ZeitraumSymptom",
            "comment": "Beginn Symptomzeitraum"
          }
        ]
      },
      {
        "id": "Condition.onset[x]:onsetPeriod.end",
        "path": "Condition.onset[x].end",
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung.ZeitraumSymptom.ZeitraumSymptom",
            "comment": "Ende Symptomzeitraum"
          }
        ]
      },
      {
        "id": "Condition.onset[x]:onsetAge",
        "path": "Condition.onset[x]",
        "sliceName": "onsetAge",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Age"
          }
        ],
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung.ZeitraumSymptom.AlterSymptom",
            "comment": "Alter bei Symptombeginn"
          }
        ]
      },
      {
        "id": "Condition.onset[x]:onsetString",
        "path": "Condition.onset[x]",
        "sliceName": "onsetString",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung.ZeitraumSymptom.Lebensphase",
            "comment": "Lebensphase Symptom"
          }
        ]
      },
      {
        "id": "Condition.abatement[x]",
        "path": "Condition.abatement[x]",
        "slicing": {
          "discriminator": [
            {
              "type": "type",
              "path": "$this"
            }
          ],
          "ordered": false,
          "rules": "open"
        },
        "short": "Auflösung der Symptom-Erkrankung",
        "definition": "Datum, Alter, Zeitraum oder zeitliche Beschreibung, wann die Symptom-Erkrankung abgeklungen ist oder in Remission ging",
        "mustSupport": true
      },
      {
        "id": "Condition.abatement[x]:abatementDateTime",
        "path": "Condition.abatement[x]",
        "sliceName": "abatementDateTime",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "dateTime"
          }
        ],
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "Ende des Symptoms",
            "comment": "Enddatum des Symptoms"
          }
        ]
      },
      {
        "id": "Condition.recordedDate",
        "path": "Condition.recordedDate",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Untersuchungsdatum",
            "comment": "Dokumentationsdatum"
          }
        ]
      },
      {
        "id": "Condition.stage",
        "path": "Condition.stage",
        "short": "Stadium oder Progression der Symptom-Erkrankung",
        "mustSupport": true
      },
      {
        "id": "Condition.stage.summary",
        "path": "Condition.stage.summary",
        "binding": {
          "strength": "extensible",
          "valueSet": "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/ValueSet/mii-vs-seltene-hpo-severity"
        }
      },
      {
        "id": "Condition.stage.assessment",
        "path": "Condition.stage.assessment",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Observation",
              "http://hl7.org/fhir/StructureDefinition/DiagnosticReport"
            ]
          }
        ]
      },
      {
        "id": "Condition.evidence",
        "path": "Condition.evidence",
        "short": "Unterstützende Evidenz für die Symptom-Erkrankung",
        "mustSupport": true
      },
      {
        "id": "Condition.evidence.code",
        "path": "Condition.evidence.code",
        "binding": {
          "strength": "extensible",
          "valueSet": "https://www.medizininformatik-initiative.de/fhir/ext/modul-seltene/ValueSet/mii-vs-seltene-hpo-phenotypic-observation-codes"
        },
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung.HPOTerm",
            "comment": "Unterstützende HPO-Symptome"
          }
        ]
      },
      {
        "id": "Condition.evidence.detail",
        "path": "Condition.evidence.detail",
        "short": "Unterstützende Beobachtungen oder Dokumente",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Observation",
              "http://hl7.org/fhir/StructureDefinition/DocumentReference",
              "http://hl7.org/fhir/StructureDefinition/DiagnosticReport"
            ]
          }
        ],
        "mapping": [
          {
            "identity": "SE-LogicalModel",
            "map": "AnamneseUndDiagnostik.Phaenotypisierung",
            "comment": "Verweis auf Beobachtungen"
          }
        ]
      },
      {
        "id": "Condition.note",
        "path": "Condition.note",
        "short": "Zusätzliche Anmerkungen zur Symptom-Erkrankung",
        "definition": "Zusätzliche Beschreibung der Symptom-Erkrankung, die in anderen Feldern nicht erfasst ist",
        "mustSupport": true
      }
    ]
  }
}
