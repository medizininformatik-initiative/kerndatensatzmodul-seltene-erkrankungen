# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Overview

This is a FHIR Implementation Guide (IG) repository for the "Kerndatensatzmodul Seltene Erkrankungen" (Core Dataset Module for Rare Diseases) project, part of the German Medical Informatics Initiative (MII). The project uses FHIR Shorthand (FSH) to define FHIR profiles and resources for rare disease data modeling.

## Development Commands

This project uses GitHub hooks to integrate with Simplifier for IG publishing. There are no local build commands needed - changes are automatically processed when pushed to the repository.

## Architecture

### Project Structure
- **`input/fsh/`**: Contains all FSH (FHIR Shorthand) source files that define profiles, extensions, and examples
- **`sushi-config.yaml`**: Main configuration file for the SUSHI FSH compiler
- **`fsh-generated/`**: Auto-generated FHIR resources from FSH files (generated by Simplifier)

### Key Components

#### FSH Files Organization
- **Profile definitions**: Individual `.fsh` files for each profile (e.g., `WaistToHipRatio.fsh`, `FastingState.fsh`)
- **Family history profiles**: `mii-pr-se-familienanamnese.fsh`, `mii-ex-se-familienanamnese.fsh`
- **Value sets**: `von-se-betroffen-valueset.fsh`
- **Aliases**: `aliases.fsh` - Common FHIR aliases and shorthand definitions
- **Rulesets**: `input/fsh/rulesets/` - Reusable FSH rule definitions for licensing, versioning, etc.

#### Current Profiles in Development
Based on `todo.txt`, the project includes:
- Waist-to-Hip Ratio measurements
- HPO (Human Phenotype Ontology) symptom observations  
- Family history (Familienanamnese) profiles
- Skin phenotype findings
- Fasting state observations
- Hairiness (Behaarung) profiles

### Dependencies
The IG depends on several German MII core datasets:
- `de.basisprofil.r4: 1.5.x`
- `de.medizininformatikinitiative.kerndatensatz.meta: 2025.0.x`
- `de.medizininformatikinitiative.kerndatensatz.molgen: 2025.0.x`
- `de.medizininformatikinitiative.kerndatensatz.icu: 2025.0.x`
- And others for diagnosis, studies, etc.

## Development Workflow

1. **Edit FSH files** in `input/fsh/` directory
2. **Commit and push changes** to trigger automatic processing via GitHub hooks
3. **Check results** on Simplifier platform where the IG is published
4. **Review generated resources** in `fsh-generated/resources/` after Simplifier processing

## Important Notes

- The project targets FHIR R4 (4.0.1)
- Language is set to German (`de-DE`)
- The IG is currently in draft status for 2026.0.0-ballot release
- All FSH files should follow the established rulesets for licensing, versioning, and copyright
- The project is part of the broader German Medical Informatics Initiative standardization effort
- IG publishing is handled automatically through Simplifier integration, not local HL7 IG Publisher